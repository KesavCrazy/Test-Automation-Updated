<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN">
  <Properties>
<Property name="basePath">./logs</Property>
</Properties>
 
  <Appenders>
  <Routing name="MyRoutingAppender">
  <Routes pattern="$${ctx:ROUTINGKEY}">
  
<Route>
   <RollingFile name="appender-${ctx:ROUTINGKEY}"
				fileName="${ctx:ROUTINGKEY}/prints.log" 
				filePattern="${ctx:ROUTINGKEY}/prints-%d{yyyy-MM-dd}.log" append="true">
				
     <PatternLayout pattern="%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"/>
      <Policies>
                <TimeBasedTriggeringPolicy />
                <SizeBasedTriggeringPolicy size="200 MB" />
            </Policies>
            <DefaultRolloverStrategy max="30"
                fileIndex="min" />
          </RollingFile>
          </Route>
           </Routes>
          </Routing>
         
    <Console name="Console" target="SYSTEM_OUT">
      <PatternLayout pattern="%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"/>
    </Console>
  </Appenders>
  
  <Loggers>
      <Logger name="com.kesav" level="trace" additivity="false">
      <AppenderRef ref="Console"/>
            <AppenderRef ref="MyRoutingAppender" />
    </Logger>
    
    <Root level="error">
      <AppenderRef ref="Console"/>
    </Root>
  </Loggers>
</Configuration>